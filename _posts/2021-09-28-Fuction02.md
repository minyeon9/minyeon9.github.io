---
layout: single
title: "SQL - 형 변환 / NULL / 선택 / 그룹"
categories: ['Programming', 'Oracle']
---

#### 형 변환
* 데이터 타입을 변환   
   
***
   
#### TO_CHAR
* 날짜, 숫자 타입의 데이터를 **문자 타입**의 데이터로 변환   
   
##### 1. NUMBER > CHARACTOR
   
```
TO_CHAR(NUMBER, FORMAT)

SELECT TO_CHAR(12345, '999999') FROM DUAL;
SELECT TO_CHAR(12345, '000000') FROM DUAL;
```   
   
![Alt text](/assets/images/function02_01.jpg)  
   
FORMAT을 9와 0, 어떤 것으로 지정하느냐에 따라 다르게 출력된다.   
0으로 지정할 경우 빈자리는 0으로 채운다.   

-
   
```
SELECT TO_CHAR(12345, '999,999') FROM DUAL;  -- 3자리마다 콤마(,) 표기
SELECT TO_CHAR(12345, 'L999,999') FROM DUAL; -- 통화기호 표기(LOCAL)
SELECT TO_CHAR(12345, '&999,999') FROM DUAL; -- 통화기호 직접 명시
```   
   
![Alt text](/assets/images/function02_02.jpg)  
   
***
   
##### 1. DATE > CHARACTOR
* YY : 연   
* MM : 월   
* DD : 일   
* HH : 시   
* MI : 분   
* SS : 초   
   
```
TO_CHAR(DATE, FORMAT)

SELECT TO_CHAR(SYSDATE, 'YY/MM/DD HH:MI:SS') FROM DUAL;
```   
   
![Alt text](/assets/images/function02_03.jpg)  
   
시,분,초 까지 표시 가능.   

-
   
```
SELECT TO_CHAR(SYSDATE, 'HH24:MI:SS') FROM DUAL;    -- 24시간 형태로 표기
SELECT TO_CHAR(SYSDATE, 'AM HH24:MI:SS') FROM DUAL; -- 오전/오후 표기
```   
   
* 24시간제, 오전/오후 표기도 가능하다.   

-
   
```
SELECT TO_CHAR(SYSDATE, 'MON DD DY, YYYY') FROM DUAL;

-- 언어 변경
ALTER SESSION SET NLS_LANGUAGE = AMERICAN;
ALTER SESSION SET NLS_LANGUAGE = KOREAN;
```   

![Alt text](/assets/images/function02_04.jpg)  
   
날짜 표기의 한글과 영어의 차이점을 볼 수 있다.   
프로젝트 내에서 약속된 날짜 형태에 따라 변경하여 사용할 수 있겠다.   
   
-

* 연도 포맷
    * Y : 현재 세기
    * R : 50 미만일 경우 현재 세기, 50 이상일 경우 이전 세기
    * YY : 20 / 18 / 90 > 2020 / 2018 / 2090
    * RR : 20 / 18 / 90 > 2020 / 2018 / 1990 : 90이 50 이상이기 때문에 이전 세기로 반영   
    
```
SELECT TO_DATE('210928', 'YYMMDD') FROM DUAL; -- 2021/09/28
SELECT TO_DATE('980928', 'YYMMDD') FROM DUAL; -- 2098/09/28

SELECT TO_DATE('210928', 'RRMMDD') FROM DUAL; -- 2021/09/28
SELECT TO_DATE('980928', 'RRMMDD') FROM DUAL; -- 1998/09/28

-- 날짜 포맷 변경
ALTER SESSION SET NLS_DATE_FORMAT = 'YYYY-MM-DD'; -- 테스트를 위해 변경
ALTER SESSION SET NLS_DATE_FORMAT = 'RR/MM/DD';   -- 원복
```   
   
Y와 R의 차이점. 필요에 따라 알맞은 걸로 사용할 수 있다.   
   
***

